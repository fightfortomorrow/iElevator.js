(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof exports==="object"){module.exports=b(require("jquery"))}else{a.Requester=b(a.$)}}}(this,function(c){function b(g,i,m){var l,f,k,n;var j=0;if(!m){m={}}var h=function(){j=m.leading===false?0:Number(new Date());l=null;n=g.apply(f,k);if(!l){f=k=null}};var e=function(){var o=Number(new Date());if(!j&&m.leading===false){j=o}var p=i-(o-j);f=this;k=arguments;if(p<=0||p>i){if(l){clearTimeout(l);l=null}j=o;n=g.apply(f,k);if(!l){f=k=null}}else{if(!l&&m.trailing!==false){l=setTimeout(h,p)}}return n};e.cancel=function(){clearTimeout(l);j=0;l=f=k=null};return e}if(typeof Array.prototype.indexOf!=="function"){Array.prototype.indexOf=function(f){for(var e=this.length-1;e>=0;e--){if(this[e]===f){return e}}}}function d(f){var e=document.createElement("b");e.innerHTML="<!--[if IE "+f+"]><i></i><![endif]-->";return e.getElementsByTagName("i").length===1}function a(e,f){this.element=c(f);this.namespace="iElevator";var h={floors:null,btns:null,backtop:null,selected:"",sticky:-1,visible:{isHide:"no",numShow:0},speed:400,show:function(i){i.element.show()},hide:function(i){i.element.hide()}},g=this.element.data("ielevator-options")||{};this.settings=c.extend({},h,e,g);this.init(e)}a.prototype=(function(){var j=[],m,i;var p=function(B){var A=s.call(this,"visible"),z=A.isHide.toLowerCase(),y=c(window).scrollTop(),C=A.numShow||0;if(z==="yes"){if(y<C){q.call(this)}else{g.call(this)}}p=function(D){if(D>=C){g.call(this)}else{q.call(this)}}},u=(function(){if(d(6)){c("html").css({backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"});return function(z,y){if(this.element[0].currentStyle.position==="fixed"){this.element.css("position","absolute")}this.element.css("top",parseInt(z,10)+y+"px");u=function(B,A){this.element.css("top",parseInt(B,10)+A+"px")}}}})();function l(y){var z={floors:("floors" in y),btns:("btns" in y),backtop:("backtop" in y)};if(z.floors){this.floors=s.call(this,"floors");this.floors.each(function(){j.push(c(this).offset().top|0)});this.btns=z.btns?s.call(this,"btns"):null}if(z.backtop){this.backtop=s.call(this,"backtop")}if(this.btns){if(this.backtop){i=this.btns.add(this.backtop)}else{i=this.btns}}else{i=this.backtop}m=j.slice();m.push(0);if(!(z.floors&&z.btns&&z.backtop)&&!(z.floors&&z.btns)&&!(z.backtop)){c.error('you provide at least one of "cBacktop" , "cFloors + cBtns" or "cFloors + cBtns + cBacktop"')}}function h(B){var y=document.createElement("style"),z=document.getElementsByTagName("head")[0];y.type="text/css";try{y.appendChild(document.createTextNode(B))}catch(A){y.styleSheet.cssText=B}z.appendChild(y);return y}var e=function(C){var y=+s.call(this,"sticky"),B=this.element.offset().top,A=c(window).scrollTop(),z=".fixed{position: fixed; top: "+y+"px;}";if(y<0){return}h(z);if(A-y>B){this.element.addClass("fixed")}else{this.element.removeClass("fixed")}e=function(D){if(D+y>B){this.element.addClass("fixed")}else{this.element.removeClass("fixed")}}};function s(z){if(z in this.settings){var y=this.settings[z],A={cFloors:true,cBtns:true,cBacktop:true};if(!y&&A[z]){c.error('the "'+z+'" is required, not '+y)}else{return y}}else{c.error('the settings contains no such "'+z+'"option!')}}function g(){s.call(this,"show")(this)}function q(){s.call(this,"hide")(this)}function v(y){var z=parseInt(y,10),A=j.indexOf(z);if(A>-1){return A}j.push(z);j.sort(function(C,D){return C-D});A=j.indexOf(z);j.splice(A,1);return(A-1)}function f(z,y){if(z===-1){return}c("html, body").animate({scrollTop:m[z]},y)}function w(y){var z=s.call(this,"selected");i&&i.removeClass(z).eq(y).addClass(z)}function r(A){if(A===-1){return}var y=s.call(this,"selected"),C,z;if(!y){return}typeof y==="string"?C=y:z=y;C&&i&&i.removeClass(C).eq(A).addClass(C);if(z){var D=i.eq(A).position().top,B=i.eq(A).height();if(A<0){return}z.css({top:D+"px",height:B+"px"})}}function n(){var z=c(window).scrollTop();var y=v.call(this,z);u&&u.call(this,z,this.numShow);p.call(this,z);r.call(this,y);e.call(this,z)}function x(){var y=this,A=s.call(this,"speed"),z=m.length;i.on("click."+this.namespace,function(B){var C=i.index(c(this));f.call(y,C,A)});c(window).on("scroll."+this.namespace,b(c.proxy(n,y),200))}function o(){this.element.off("."+this.namespace);c(window).off("."+this.namespace)}function t(){o.call(this);c.removeData(this)}function k(y){l.call(this,y);n.call(this);x.call(this)}return{constructor:a,init:function(y){this._(k)(y)},destory:function(){this._(t)()},getSettings:function(y){return this._(s)(y)},_:function(z){var y=this;return function(){return z.apply(y,arguments)}}}})();c.fn.ielevator=function(f){var h="ielevatorPlugin",e,g;if(typeof f==="string"){e=Array.prototype.slice.call(arguments,1);this.each(function(){var i=c.data(this,h);if(!i){c.error("The plugin has not been initialised yet when you tried to call this method: "+f);return}if(!c.isFunction(i[f])){c.error("The plugin contains no such method: "+f);return}else{g=i[f].apply(i,e)}});if(g!==undefined){return g}else{return this}}else{return this.each(function(){var i=c.data(this,h);if(i){i.init(f)}else{c.data(this,h,new a(f,this))}})}}}));